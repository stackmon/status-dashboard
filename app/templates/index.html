{% extends "base.html" %}

{% block content %}
<div class="container mt-3">
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Components</th>
        <th scope="col">IDs</th>
        {% for region in regions %}
        <th scope="col">{{ region }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for component in components %}
        <tr>
          <th scope="row">{{ component.name }}</th>
          <th scope="row">{{ component.id }}</th>
          {% for region in regions %}
            <td>
              {% if component.get_component_with_incident(component.id, region)[0] == component.id %}
                {% if component.get_component_with_incident(component.id, region)[2].value == "outage" %}
                <i class="bi sd-outage"></i>
                {% elif component.get_component_with_incident(component.id, region)[2].value == "maintenance" %}
                <i class="bi sd-maintenance"></i>
                {% elif component.get_component_with_incident(component.id, region)[2].value == "minor" %}
                <i class="bi sd-minor"></i>
                {% elif component.get_component_with_incident(component.id, region)[2].value == "major" %}
                <i class="bi sd-major"></i>
                {% endif %}
              {% elif component.component_by_region(component.id, region).id == component.id %}
                <i class="bi sd-available"></i>
              {% else %}
                <i class="bi bi-dash-circle-dotted"></i>
              {% endif %}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div>
  <div class="container mt-4">
    <ul class="list-group list-group-horizontal list-group-flush">
      <li class="list-group-item">
        <i class="bi bi-check2-circle me-1"></i><span>Exist</span></li>
      <li class="list-group-item">
        <i class="bi bi-dash-circle-dotted me-1"></i><span>Not Exist</span></li>
      <li class="list-group-item">
          <i class="bi sd-available me-1"></i>Operational</li>
      <li class="list-group-item">
          <i class="bi sd-maintenance me-1"></i>Maintenance</li>
      <li class="list-group-item">
          <i class="bi sd-minor me-1"></i><span>Minor Issue</span></li>
      <li class="list-group-item">
          <i class="bi sd-major me-1"></i><span>Major Issue</span></li>
      <li class="list-group-item">
          <i class="bi sd-outage me-1"></i><span>Outage</span></li>
    </ul>
  </div>
</div>
{% endblock %}
